"use strict";(self.webpackChunkstore_inventory_system=self.webpackChunkstore_inventory_system||[]).push([[987],{6987:(s,e,n)=>{n.r(e),n.d(e,{default:()=>h});var a=n(5043),i=n(579);const t=s=>{let{inventory:e,onUpdateStock:n,onUpdateMinStock:t}=s;const[c,l]=(0,a.useState)(""),[r,d]=(0,a.useState)("IN"),[o,h]=(0,a.useState)(""),[m,x]=(0,a.useState)(e.min_stock.toString()),[j,u]=(0,a.useState)("stock"),[N,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{x(e.min_stock.toString())},[e.min_stock]);const p=e.current_stock<=e.min_stock,g=0===e.current_stock,b=()=>g?"out":p?"low":"good",k=()=>{switch(b()){case"out":return"#ef4444";case"low":return"#f59e0b";default:return"#10b981"}};return(0,i.jsxs)("div",{className:"modern-inventory-form",children:[(0,i.jsxs)("div",{className:"stock-overview",children:[(0,i.jsxs)("div",{className:"stock-info",children:[(0,i.jsxs)("div",{className:"stock-display",children:[(0,i.jsx)("div",{className:"stock-number",children:e.current_stock}),(0,i.jsx)("div",{className:"stock-unit",children:e.ingredient_unit})]}),(0,i.jsxs)("div",{className:"stock-details",children:[(0,i.jsx)("div",{className:"stock-label",children:"\ud604\uc7ac \uc7ac\uace0"}),(0,i.jsxs)("div",{className:"stock-status ".concat(b()),children:[(0,i.jsx)("span",{className:"status-dot",style:{backgroundColor:k()}}),(()=>{switch(b()){case"out":return"\ud488\uc808";case"low":return"\ubd80\uc871";default:return"\ucda9\ubd84"}})()]})]})]}),(0,i.jsxs)("div",{className:"stock-progress",children:[(0,i.jsxs)("div",{className:"progress-info",children:[(0,i.jsx)("span",{className:"current-label",children:"\ud604\uc7ac"}),(0,i.jsxs)("span",{className:"min-label",children:["\ucd5c\uc18c: ",e.min_stock,e.ingredient_unit]})]}),(0,i.jsx)("div",{className:"progress-bar",children:(0,i.jsx)("div",{className:"progress-fill",style:{width:"".concat(Math.min(e.current_stock/(2*e.min_stock)*100,100),"%"),backgroundColor:k()}})})]})]}),(0,i.jsxs)("div",{className:"form-tabs",children:[(0,i.jsxs)("button",{className:"tab-btn ".concat("stock"===j?"active":""),onClick:()=>u("stock"),children:[(0,i.jsx)("span",{className:"tab-icon",children:"\ud83d\udce6"}),"\uc7ac\uace0 \uad00\ub9ac"]}),(0,i.jsxs)("button",{className:"tab-btn ".concat("minstock"===j?"active":""),onClick:()=>u("minstock"),children:[(0,i.jsx)("span",{className:"tab-icon",children:"\u2699\ufe0f"}),"\ucd5c\uc18c\uc7ac\uace0 \uc124\uc815"]})]}),"stock"===j&&(0,i.jsxs)("div",{className:"tab-content",children:[(0,i.jsxs)("div",{className:"type-selector",children:[(0,i.jsx)("div",{className:"selector-label",children:"\uc791\uc5c5 \uc720\ud615"}),(0,i.jsxs)("div",{className:"type-buttons",children:[(0,i.jsxs)("button",{type:"button",className:"type-btn in ".concat("IN"===r?"active":""),onClick:()=>d("IN"),children:[(0,i.jsx)("span",{className:"type-icon",children:"\ud83d\udce5"}),(0,i.jsx)("span",{className:"type-text",children:"\uc785\uace0"})]}),(0,i.jsxs)("button",{type:"button",className:"type-btn out ".concat("OUT"===r?"active":""),onClick:()=>d("OUT"),children:[(0,i.jsx)("span",{className:"type-icon",children:"\ud83d\udce4"}),(0,i.jsx)("span",{className:"type-text",children:"\ucd9c\uace0"})]})]})]}),(0,i.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),v(!0);const a=parseFloat(c);if(isNaN(a)||a<=0)return alert("\uc62c\ubc14\ub978 \uc218\ub7c9\uc744 \uc785\ub825\ud558\uc138\uc694."),void v(!1);try{await n(e.ingredient_id,a,r,o.trim()||void 0),l(""),h("")}catch(i){console.error("\uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328:",i)}finally{v(!1)}},className:"stock-form",children:[(0,i.jsxs)("div",{className:"quick-amounts",children:[(0,i.jsx)("div",{className:"quick-label",children:"\ube60\ub978 \uc218\ub7c9"}),(0,i.jsx)("div",{className:"quick-buttons",children:[1,5,10,50].map(s=>(0,i.jsx)("button",{type:"button",className:"quick-btn",onClick:()=>l(s.toString()),children:s},s))})]}),(0,i.jsxs)("div",{className:"form-field",children:[(0,i.jsx)("label",{className:"field-label",children:"\uc218\ub7c9"}),(0,i.jsxs)("div",{className:"quantity-input",children:[(0,i.jsx)("input",{type:"number",value:c,onChange:s=>l(s.target.value),required:!0,min:"0",step:"0.1",placeholder:"\uc218\ub7c9\uc744 \uc785\ub825\ud558\uc138\uc694",className:"quantity-field"}),(0,i.jsx)("span",{className:"input-unit",children:e.ingredient_unit})]})]}),(0,i.jsxs)("div",{className:"form-field",children:[(0,i.jsx)("label",{className:"field-label",children:"\uba54\ubaa8 (\uc120\ud0dd\uc0ac\ud56d)"}),(0,i.jsx)("input",{type:"text",value:o,onChange:s=>h(s.target.value),placeholder:"\uc608: \uc2e0\uaddc \ub0a9\ud488, \ud3d0\uae30 \ucc98\ub9ac, \uc7ac\uace0 \uc870\uc815 \ub4f1",className:"notes-field"})]}),(0,i.jsx)("button",{type:"submit",className:"submit-btn ".concat(r.toLowerCase()),disabled:N||!c,children:N?(0,i.jsx)("span",{className:"loading-spinner",children:"\u27f3"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"btn-icon",children:"IN"===r?"\ud83d\udce5":"\ud83d\udce4"}),(0,i.jsxs)("span",{className:"btn-text",children:[c?"".concat("IN"===r?"+":"-").concat(c).concat(e.ingredient_unit," "):"","IN"===r?"\uc785\uace0":"\ucd9c\uace0"]})]})})]})]}),"minstock"===j&&(0,i.jsxs)("div",{className:"tab-content",children:[(0,i.jsx)("div",{className:"minstock-info",children:(0,i.jsxs)("div",{className:"info-card",children:[(0,i.jsxs)("div",{className:"info-header",children:[(0,i.jsx)("span",{className:"info-icon",children:"\u2139\ufe0f"}),(0,i.jsx)("span",{className:"info-title",children:"\ucd5c\uc18c \uc7ac\uace0\ub780?"})]}),(0,i.jsx)("p",{className:"info-text",children:"\uc7ac\uace0\uac00 \uc774 \uc218\uce58 \uc774\ud558\ub85c \ub5a8\uc5b4\uc9c0\uba74 \ubd80\uc871 \uc0c1\ud0dc\ub85c \ud45c\uc2dc\ub429\ub2c8\ub2e4. \uc801\uc808\ud55c \uac12\uc744 \uc124\uc815\ud558\uc5ec \uc7ac\uace0 \uad00\ub9ac\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \ud558\uc138\uc694."})]})}),(0,i.jsxs)("div",{className:"minstock-form",children:[(0,i.jsxs)("div",{className:"form-field",children:[(0,i.jsx)("label",{className:"field-label",children:"\ucd5c\uc18c \uc7ac\uace0\ub7c9"}),(0,i.jsxs)("div",{className:"minstock-input",children:[(0,i.jsx)("input",{type:"number",value:m,onChange:s=>x(s.target.value),min:"0",step:"0.1",placeholder:"\ucd5c\uc18c \uc7ac\uace0\ub7c9",className:"minstock-field"}),(0,i.jsx)("span",{className:"input-unit",children:e.ingredient_unit})]})]}),(0,i.jsxs)("div",{className:"minstock-actions",children:[(0,i.jsxs)("button",{type:"button",className:"action-btn secondary",onClick:()=>x(e.current_stock.toString()),children:[(0,i.jsx)("span",{className:"btn-icon",children:"\ud83d\udd04"}),"\ud604\uc7ac \uc7ac\uace0\ub85c \uc124\uc815"]}),(0,i.jsx)("button",{type:"button",className:"action-btn primary",onClick:async()=>{v(!0);const s=parseFloat(m);if(isNaN(s)||s<0)return alert("\uc62c\ubc14\ub978 \ucd5c\uc18c \uc7ac\uace0\ub7c9\uc744 \uc785\ub825\ud558\uc138\uc694."),void v(!1);try{await t(e.ingredient_id,s)}catch(n){console.error("\ucd5c\uc18c \uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328:",n)}finally{v(!1)}},disabled:N||m===e.min_stock.toString(),children:N?(0,i.jsx)("span",{className:"loading-spinner",children:"\u27f3"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"btn-icon",children:"\u2705"}),"\uc124\uc815 \uc644\ub8cc"]})})]})]})]})]})},c=s=>{let{history:e,limit:n=50}=s;const a=n?e.slice(0,n):e,t=s=>{switch(s){case"IN":return"\uc785\uace0";case"OUT":return"\ucd9c\uace0";case"ADJUST":return"\uc870\uc815";default:return s}},c=s=>{switch(s){case"IN":return"change-in";case"OUT":return"change-out";case"ADJUST":return"change-adjust";default:return""}};return(0,i.jsxs)("div",{className:"inventory-history",children:[(0,i.jsxs)("h3",{children:["\uc7ac\uace0 \ubcc0\ub3d9 \uc774\ub825 ",n&&"(\ucd5c\uadfc ".concat(n,"\uac74)")]}),(0,i.jsx)("div",{className:"table-container",children:(0,i.jsxs)("table",{className:"history-table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"\uc77c\uc2dc"}),(0,i.jsx)("th",{children:"\uc7ac\ub8cc\uba85"}),(0,i.jsx)("th",{children:"\uad6c\ubd84"}),(0,i.jsx)("th",{children:"\uc218\ub7c9"}),(0,i.jsx)("th",{children:"\uc774\uc804 \uc7ac\uace0"}),(0,i.jsx)("th",{children:"\ubcc0\uacbd \ud6c4 \uc7ac\uace0"}),(0,i.jsx)("th",{children:"\uba54\ubaa8"})]})}),(0,i.jsx)("tbody",{children:0===a.length?(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:7,className:"no-data",children:"\uc7ac\uace0 \ubcc0\ub3d9 \uc774\ub825\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})}):a.map(s=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:s.created_at?new Date(s.created_at).toLocaleString("ko-KR"):"-"}),(0,i.jsx)("td",{children:s.ingredient_name}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"change-type ".concat(c(s.change_type)),children:t(s.change_type)})}),(0,i.jsx)("td",{children:(0,i.jsxs)("span",{className:c(s.change_type),children:["IN"===s.change_type?"+":"-",s.quantity," ",s.ingredient_unit]})}),(0,i.jsxs)("td",{children:[s.previous_stock," ",s.ingredient_unit]}),(0,i.jsxs)("td",{children:[s.new_stock," ",s.ingredient_unit]}),(0,i.jsx)("td",{children:s.notes||"-"})]},s.id))})]})})]})};var l=n(2408),r=n(4685),d=n(9274),o=n(7005);const h=()=>{const[s,e]=(0,a.useState)([]),[n,h]=(0,a.useState)([]),[m,x]=(0,a.useState)(null),[j,u]=(0,a.useState)([]),[N,v]=(0,a.useState)("inventory"),[p,g]=(0,a.useState)(!1),[b,k]=(0,a.useState)(""),[y,f]=(0,a.useState)("all"),[_,w]=(0,a.useState)("grid"),[S,C]=(0,a.useState)({show:!1,message:"",type:"success"});(0,a.useEffect)(()=>{I(),U(),T()},[]);const q=(s,e)=>{C({show:!0,message:s,type:e})},I=async()=>{g(!0);try{const s=await l.c.getAllInventoryWithDetails();if(e(s),m){const e=s.find(s=>s.id===m.id);e&&x(e)}}catch(s){q("\uc7ac\uace0 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","error"),console.error(s)}finally{g(!1)}},U=async()=>{try{const s=await r.j.getAllIngredients();h(s)}catch(s){q("\uc7ac\ub8cc \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","error"),console.error(s)}},T=async()=>{try{const s=await l.c.getInventoryHistoryWithDetails();u(s)}catch(s){q("\uc7ac\uace0 \uc774\ub825\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","error"),console.error(s)}},z=async(s,e,n,a)=>{g(!0);try{await l.c.adjustStock(s,e,n,a),await I(),await T();q("\uc7ac\uace0\uac00 \uc131\uacf5\uc801\uc73c\ub85c ".concat("IN"===n?"\uc785\uace0":"\ucd9c\uace0"," \ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),"success")}catch(i){q(i instanceof Error?i.message:"\uc7ac\uace0 \uc5c5\ub370\uc774\ud2b8\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","error")}finally{g(!1)}},A=async(s,e)=>{g(!0);try{await l.c.updateMinStock(s,e),await I(),q("\ucd5c\uc18c \uc7ac\uace0\ub7c9\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc124\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","success")}catch(n){q("\ucd5c\uc18c \uc7ac\uace0\ub7c9 \uc124\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","error"),console.error(n)}finally{g(!1)}},D=s=>{x(s)},M=s.filter(s=>{const e=s.ingredient_name.toLowerCase().includes(b.toLowerCase()),n="all"===y||"low"===y&&s.current_stock<=s.min_stock||"out"===y&&0===s.current_stock;return e&&n}),L=s.filter(s=>s.current_stock<=s.min_stock),O=s.filter(s=>0===s.current_stock),E=s=>0===s.current_stock?"out":s.current_stock<=s.min_stock?"low":"good",F=s=>{switch(s){case"out":return"#ef4444";case"low":return"#f59e0b";default:return"#10b981"}},J=s=>{switch(s){case"out":return"\ud488\uc808";case"low":return"\ubd80\uc871";default:return"\ucda9\ubd84"}};return p&&0===s.length?(0,i.jsx)(d.A,{size:"large",message:"\uc7ac\uace0 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911...",overlay:!0}):(0,i.jsxs)("div",{className:"modern-inventory-page",children:[(0,i.jsxs)("div",{className:"page-header",children:[(0,i.jsxs)("div",{className:"header-content",children:[(0,i.jsxs)("div",{className:"header-title",children:[(0,i.jsx)("div",{className:"title-icon",children:"\ud83c\udfe2"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"Smart Inventory"}),(0,i.jsx)("p",{children:"\uc9c0\ub2a5\ud615 \uc7ac\uace0 \uad00\ub9ac \uc2dc\uc2a4\ud15c"})]})]}),(0,i.jsx)("div",{className:"header-actions",children:(0,i.jsxs)("button",{className:"refresh-btn",onClick:()=>{I(),U()},children:[(0,i.jsx)("span",{children:"\ud83d\udd04"}),"\uc0c8\ub85c\uace0\uce68"]})})]}),(0,i.jsxs)("div",{className:"stats-grid",children:[(0,i.jsxs)("div",{className:"stat-card total",children:[(0,i.jsx)("div",{className:"stat-icon",children:"\ud83d\udce6"}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("div",{className:"stat-number",children:s.length}),(0,i.jsx)("div",{className:"stat-label",children:"\ucd1d \uc7ac\uace0\ud488\ubaa9"})]})]}),(0,i.jsxs)("div",{className:"stat-card low",children:[(0,i.jsx)("div",{className:"stat-icon",children:"\u26a0\ufe0f"}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("div",{className:"stat-number",children:L.length}),(0,i.jsx)("div",{className:"stat-label",children:"\ubd80\uc871 \uc7ac\uace0"})]})]}),(0,i.jsxs)("div",{className:"stat-card out",children:[(0,i.jsx)("div",{className:"stat-icon",children:"\ud83d\udea8"}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("div",{className:"stat-number",children:O.length}),(0,i.jsx)("div",{className:"stat-label",children:"\ud488\uc808"})]})]}),(0,i.jsxs)("div",{className:"stat-card ingredients",children:[(0,i.jsx)("div",{className:"stat-icon",children:"\ud83e\udd6c"}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("div",{className:"stat-number",children:n.length}),(0,i.jsx)("div",{className:"stat-label",children:"\ub4f1\ub85d \uc7ac\ub8cc"})]})]})]})]}),(0,i.jsx)("div",{className:"nav-container",children:(0,i.jsx)("div",{className:"nav-tabs",children:[{id:"inventory",label:"\uc7ac\uace0\ud604\ud669",icon:"\ud83d\udccb",count:s.length},{id:"ingredients",label:"\uc7ac\ub8cc\ubaa9\ub85d",icon:"\ud83e\udd6c",count:n.length},{id:"register",label:"\uc7ac\uace0\ub4f1\ub85d",icon:"\u2795",count:null},{id:"history",label:"\ubcc0\ub3d9\uc774\ub825",icon:"\ud83d\udcc8",count:j.length}].map(s=>(0,i.jsxs)("button",{className:"nav-tab ".concat(N===s.id?"active":""),onClick:()=>v(s.id),children:[(0,i.jsx)("span",{className:"tab-icon",children:s.icon}),(0,i.jsx)("span",{className:"tab-label",children:s.label}),null!==s.count&&(0,i.jsx)("span",{className:"tab-count",children:s.count})]},s.id))})}),(0,i.jsxs)("div",{className:"content-area",children:["inventory"===N&&(0,i.jsxs)("div",{className:"inventory-section",children:[(0,i.jsxs)("div",{className:"toolbar",children:[(0,i.jsxs)("div",{className:"search-section",children:[(0,i.jsxs)("div",{className:"search-box",children:[(0,i.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"}),(0,i.jsx)("input",{type:"text",placeholder:"\uc7ac\ub8cc\uba85\uc73c\ub85c \uac80\uc0c9...",value:b,onChange:s=>k(s.target.value)})]}),(0,i.jsx)("div",{className:"filter-group",children:(0,i.jsxs)("select",{value:y,onChange:s=>f(s.target.value),className:"filter-select",children:[(0,i.jsx)("option",{value:"all",children:"\uc804\uccb4 \uc0c1\ud0dc"}),(0,i.jsx)("option",{value:"good",children:"\ucda9\ubd84"}),(0,i.jsx)("option",{value:"low",children:"\ubd80\uc871"}),(0,i.jsx)("option",{value:"out",children:"\ud488\uc808"})]})})]}),(0,i.jsxs)("div",{className:"view-controls",children:[(0,i.jsx)("button",{className:"view-btn ".concat("grid"===_?"active":""),onClick:()=>w("grid"),children:"\u229e"}),(0,i.jsx)("button",{className:"view-btn ".concat("list"===_?"active":""),onClick:()=>w("list"),children:"\u2630"})]})]}),(0,i.jsx)("div",{className:"inventory-display ".concat(_),children:0===M.length?(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("div",{className:"empty-icon",children:"\ud83d\udced"}),(0,i.jsx)("h3",{children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,i.jsx)("p",{children:"\ub2e4\ub978 \uac80\uc0c9\uc5b4\ub098 \ud544\ud130\ub97c \uc2dc\ub3c4\ud574\ubcf4\uc138\uc694"})]}):M.map(s=>{const e=E(s);return(0,i.jsxs)("div",{className:"inventory-card ".concat(e," ").concat((null===m||void 0===m?void 0:m.id)===s.id?"selected":""),onClick:()=>D(s),children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("div",{className:"ingredient-name",children:s.ingredient_name}),(0,i.jsx)("div",{className:"status-badge ".concat(e),children:J(e)})]}),(0,i.jsxs)("div",{className:"stock-info",children:[(0,i.jsxs)("div",{className:"current-stock",children:[(0,i.jsx)("span",{className:"stock-number",children:s.current_stock}),(0,i.jsx)("span",{className:"stock-unit",children:s.ingredient_unit})]}),(0,i.jsxs)("div",{className:"min-stock",children:["\ucd5c\uc18c: ",s.min_stock,s.ingredient_unit]})]}),(0,i.jsx)("div",{className:"stock-bar",children:(0,i.jsx)("div",{className:"stock-progress",style:{width:"".concat(Math.min(s.current_stock/(2*s.min_stock)*100,100),"%"),backgroundColor:F(e)}})}),(0,i.jsx)("div",{className:"card-footer",children:(0,i.jsx)("span",{className:"last-updated",children:s.updated_at?new Date(s.updated_at).toLocaleDateString("ko-KR"):"\ub0a0\uc9dc \uc5c6\uc74c"})})]},s.id)})}),m&&(0,i.jsxs)("div",{className:"management-panel",children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsx)("h3",{children:"\uc7ac\uace0 \uad00\ub9ac"}),(0,i.jsxs)("div",{className:"selected-info",children:[m.ingredient_name," (",m.ingredient_unit,")"]})]}),(0,i.jsx)(t,{inventory:m,onUpdateStock:z,onUpdateMinStock:A})]})]}),"ingredients"===N&&(0,i.jsxs)("div",{className:"ingredients-section",children:[(0,i.jsxs)("div",{className:"section-header",children:[(0,i.jsx)("h2",{children:"\ub4f1\ub85d\ub41c \uc7ac\ub8cc \ubaa9\ub85d"}),(0,i.jsx)("p",{children:"\uc2dc\uc2a4\ud15c\uc5d0 \ub4f1\ub85d\ub41c \ubaa8\ub4e0 \uc7ac\ub8cc\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]}),(0,i.jsx)("div",{className:"ingredients-grid",children:n.map(e=>{const n=s.find(s=>s.ingredient_id===e.id);return(0,i.jsxs)("div",{className:"ingredient-card",children:[(0,i.jsxs)("div",{className:"ingredient-header",children:[(0,i.jsx)("h4",{children:e.name}),(0,i.jsx)("span",{className:"unit-badge",children:e.unit})]}),n?(0,i.jsxs)("div",{className:"inventory-status",children:[(0,i.jsxs)("div",{className:"stock-display",children:[(0,i.jsx)("span",{className:"current",children:n.current_stock}),(0,i.jsx)("span",{className:"separator",children:"/"}),(0,i.jsx)("span",{className:"min",children:n.min_stock}),(0,i.jsx)("span",{className:"unit",children:e.unit})]}),(0,i.jsx)("div",{className:"status ".concat(E(n)),children:J(E(n))})]}):(0,i.jsx)("div",{className:"no-inventory",children:(0,i.jsx)("span",{children:"\uc7ac\uace0 \uc815\ubcf4 \uc5c6\uc74c"})})]},e.id)})})]}),"register"===N&&(0,i.jsxs)("div",{className:"register-section",children:[(0,i.jsxs)("div",{className:"register-stats",children:[(0,i.jsxs)("div",{className:"quick-stat-card",children:[(0,i.jsx)("div",{className:"stat-icon",children:"\ud83d\udce6"}),(0,i.jsxs)("div",{className:"stat-info",children:[(0,i.jsx)("div",{className:"stat-number",children:s.length}),(0,i.jsx)("div",{className:"stat-label",children:"\uad00\ub9ac \uc911\uc778 \uc7ac\ub8cc"})]})]}),(0,i.jsxs)("div",{className:"quick-stat-card warning",children:[(0,i.jsx)("div",{className:"stat-icon",children:"\u26a0\ufe0f"}),(0,i.jsxs)("div",{className:"stat-info",children:[(0,i.jsx)("div",{className:"stat-number",children:L.length}),(0,i.jsx)("div",{className:"stat-label",children:"\ubd80\uc871 \uc7ac\uace0"})]})]}),(0,i.jsxs)("div",{className:"quick-stat-card danger",children:[(0,i.jsx)("div",{className:"stat-icon",children:"\ud83d\udea8"}),(0,i.jsxs)("div",{className:"stat-info",children:[(0,i.jsx)("div",{className:"stat-number",children:O.length}),(0,i.jsx)("div",{className:"stat-label",children:"\ud488\uc808"})]})]})]}),(0,i.jsxs)("div",{className:"register-main",children:[(0,i.jsxs)("div",{className:"material-selection",children:[(0,i.jsxs)("div",{className:"selection-header",children:[(0,i.jsx)("h3",{children:"\ud83c\udfaf \uc7ac\ub8cc \uc120\ud0dd"}),(0,i.jsx)("p",{children:"\uc7ac\uace0\ub97c \uad00\ub9ac\ud560 \uc7ac\ub8cc\ub97c \uc120\ud0dd\ud558\uc138\uc694"})]}),(0,i.jsx)("div",{className:"material-grid",children:s.map(s=>{const e=E(s);return(0,i.jsxs)("div",{className:"material-item ".concat(e," ").concat((null===m||void 0===m?void 0:m.id)===s.id?"selected":""),onClick:()=>D(s),children:[(0,i.jsxs)("div",{className:"material-header",children:[(0,i.jsx)("span",{className:"material-name",children:s.ingredient_name}),(0,i.jsx)("span",{className:"status-dot ".concat(e)})]}),(0,i.jsxs)("div",{className:"material-stock",children:[(0,i.jsx)("span",{className:"current",children:s.current_stock}),(0,i.jsx)("span",{className:"unit",children:s.ingredient_unit}),(0,i.jsxs)("span",{className:"min-info",children:["\ucd5c\uc18c: ",s.min_stock]})]}),(0,i.jsx)("div",{className:"material-status",children:(0,i.jsx)("span",{className:"status-text ".concat(e),children:J(e)})})]},s.id)})})]}),m&&(0,i.jsxs)("div",{className:"register-form-area",children:[(0,i.jsx)("div",{className:"form-header",children:(0,i.jsxs)("div",{className:"selected-material",children:[(0,i.jsxs)("div",{className:"material-info",children:[(0,i.jsx)("h3",{children:"\ud83d\udcdd \uc7ac\uace0 \uad00\ub9ac"}),(0,i.jsxs)("div",{className:"material-detail",children:[(0,i.jsx)("span",{className:"name",children:m.ingredient_name}),(0,i.jsxs)("span",{className:"unit",children:["(",m.ingredient_unit,")"]}),(0,i.jsx)("span",{className:"status ".concat(E(m)),children:J(E(m))})]})]}),(0,i.jsxs)("div",{className:"current-info",children:[(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{className:"label",children:"\ud604\uc7ac \uc7ac\uace0"}),(0,i.jsxs)("span",{className:"value",children:[m.current_stock," ",m.ingredient_unit]})]}),(0,i.jsxs)("div",{className:"info-item",children:[(0,i.jsx)("span",{className:"label",children:"\ucd5c\uc18c \uc7ac\uace0"}),(0,i.jsxs)("span",{className:"value",children:[m.min_stock," ",m.ingredient_unit]})]})]})]})}),(0,i.jsx)("div",{className:"form-content",children:(0,i.jsx)(t,{inventory:m,onUpdateStock:z,onUpdateMinStock:A})}),(0,i.jsxs)("div",{className:"quick-actions",children:[(0,i.jsx)("h4",{children:"\u26a1 \ube60\ub978 \uc791\uc5c5"}),(0,i.jsxs)("div",{className:"action-buttons",children:[(0,i.jsxs)("button",{className:"quick-btn in",onClick:()=>z(m.ingredient_id,10,"IN","\ube60\ub978 \uc785\uace0"),children:[(0,i.jsx)("span",{children:"\ud83d\udce5"}),"+10 \uc785\uace0"]}),(0,i.jsxs)("button",{className:"quick-btn out",onClick:()=>z(m.ingredient_id,5,"OUT","\ube60\ub978 \ucd9c\uace0"),children:[(0,i.jsx)("span",{children:"\ud83d\udce4"}),"-5 \ucd9c\uace0"]}),(0,i.jsxs)("button",{className:"quick-btn reset",onClick:()=>A(m.ingredient_id,m.current_stock),children:[(0,i.jsx)("span",{children:"\ud83d\udd04"}),"\ucd5c\uc18c\uc7ac\uace0 \ud604\uc7ac\uac12\uc73c\ub85c"]})]})]})]}),!m&&(0,i.jsx)("div",{className:"register-empty",children:(0,i.jsxs)("div",{className:"empty-content",children:[(0,i.jsx)("div",{className:"empty-icon",children:"\ud83c\udfaf"}),(0,i.jsx)("h3",{children:"\uc7ac\ub8cc\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"}),(0,i.jsxs)("p",{children:["\uc704\uc5d0\uc11c \uc7ac\uace0\ub97c \uad00\ub9ac\ud560 \uc7ac\ub8cc\ub97c \uc120\ud0dd\ud558\uba74",(0,i.jsx)("br",{}),"\uc0c1\uc138\ud55c \uc7ac\uace0 \uad00\ub9ac \ub3c4\uad6c\uac00 \ub098\ud0c0\ub0a9\ub2c8\ub2e4"]}),(0,i.jsx)("div",{className:"selection-hint",children:(0,i.jsx)("span",{className:"hint-item",children:"\ud83d\udca1 \ud301: \ubd80\uc871\ud55c \uc7ac\uace0\ubd80\ud130 \uad00\ub9ac\ud574\ubcf4\uc138\uc694"})})]})})]})]}),"history"===N&&(0,i.jsxs)("div",{className:"history-section",children:[(0,i.jsxs)("div",{className:"section-header",children:[(0,i.jsx)("h2",{children:"\uc7ac\uace0 \ubcc0\ub3d9 \uc774\ub825"}),(0,i.jsx)("p",{children:"\ubaa8\ub4e0 \uc7ac\uace0 \ubcc0\ub3d9 \ub0b4\uc5ed\uc744 \uc2dc\uac04\uc21c\uc73c\ub85c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"})]}),(0,i.jsx)(c,{history:j,limit:100})]})]}),S.show&&(0,i.jsx)(o.A,{message:S.message,type:S.type,onClose:()=>{C({show:!1,message:"",type:"success"})}})]})}},7005:(s,e,n)=>{n.d(e,{A:()=>c});var a=n(5043),i=n(579);const t=s=>{let{message:e,type:n,duration:t=3e3,onClose:c}=s;const[l,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{const s=setTimeout(()=>{r(!1),setTimeout(c,300)},t);return()=>clearTimeout(s)},[t,c]);return(0,i.jsx)("div",{className:"toast toast-".concat(n," ").concat(l?"toast-show":"toast-hide"),children:(0,i.jsxs)("div",{className:"toast-content",children:[(0,i.jsx)("span",{className:"toast-icon",children:(()=>{switch(n){case"success":return"\u2705";case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";case"info":return"\u2139\ufe0f";default:return""}})()}),(0,i.jsx)("span",{className:"toast-message",children:e}),(0,i.jsx)("button",{className:"toast-close",onClick:()=>r(!1),children:"\xd7"})]})})},c=t},9274:(s,e,n)=>{n.d(e,{A:()=>i});n(5043);var a=n(579);const i=s=>{let{size:e="medium",message:n,overlay:i=!1}=s;const t="spinner-".concat(e);return(0,a.jsxs)("div",{className:"loading-container ".concat(i?"loading-overlay":""),children:[(0,a.jsx)("div",{className:"spinner ".concat(t),children:(0,a.jsxs)("div",{className:"spinner-ring",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]})}),n&&(0,a.jsx)("p",{className:"loading-message",children:n}),(0,a.jsx)("style",{children:"\n        .loading-container {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          gap: 1rem;\n        }\n\n        .loading-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(255, 255, 255, 0.9);\n          z-index: 999;\n          backdrop-filter: blur(2px);\n        }\n\n        .spinner {\n          display: inline-block;\n          position: relative;\n        }\n\n        .spinner-small {\n          width: 24px;\n          height: 24px;\n        }\n\n        .spinner-medium {\n          width: 40px;\n          height: 40px;\n        }\n\n        .spinner-large {\n          width: 64px;\n          height: 64px;\n        }\n\n        .spinner-ring {\n          display: inline-block;\n          position: relative;\n          width: 100%;\n          height: 100%;\n        }\n\n        .spinner-ring div {\n          box-sizing: border-box;\n          display: block;\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          border: 3px solid #2196f3;\n          border-radius: 50%;\n          animation: spinner-animation 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n          border-color: #2196f3 transparent transparent transparent;\n        }\n\n        .spinner-ring div:nth-child(1) {\n          animation-delay: -0.45s;\n        }\n\n        .spinner-ring div:nth-child(2) {\n          animation-delay: -0.3s;\n        }\n\n        .spinner-ring div:nth-child(3) {\n          animation-delay: -0.15s;\n        }\n\n        @keyframes spinner-animation {\n          0% {\n            transform: rotate(0deg);\n          }\n          100% {\n            transform: rotate(360deg);\n          }\n        }\n\n        .loading-message {\n          margin: 0;\n          color: #666;\n          font-size: 0.9rem;\n          text-align: center;\n        }\n\n        .spinner-small + .loading-message {\n          font-size: 0.8rem;\n        }\n\n        .spinner-large + .loading-message {\n          font-size: 1rem;\n        }\n      "})]})}}}]);
//# sourceMappingURL=987.bd9ec1bc.chunk.js.map